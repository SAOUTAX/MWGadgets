mw.hook("InPageEdit").add(function(){new MutationObserver(()=>{const e=$("label[for='editSummary']"),t=$("#editSummary");e.length&&t.length&&!e.next("#mysummary").length&&function(e,t){const a=$("<div>",{id:"mysummary",text:"自定义摘要："});e.after(a),Array.isArray(IPESummary)&&IPESummary.forEach((e,m)=>{const r="string"==typeof e?{summary:e,label:e}:{summary:e.summary||e.label||"",label:e.label||e.summary||""},n=$("<a>",{href:"#",text:r.label,title:r.summary}).on("click",e=>{e.preventDefault(),t.val(function(e,t){const a=e.match(/(\/\*.*?\*\/)/);if(a){const m=a.index+a[0].length;return`${e.slice(0,m)} ${t}${e.slice(m)}`}const m=e.indexOf("//");return-1!==m?`${e.slice(0,m).replace(/\s*$/," ")}${t} ${e.slice(m)}`:e&&!/\s$/.test(e)?`${e} ${t}`:`${e||""}${t}`}(t.val()||"",r.summary)).focus()});a.append(n),m<IPESummary.length-1&&a.append(" | ")})}(e,t)}).observe(document.body,{childList:!0,subtree:!0})}),window.IPESummary=window.IPESummary||["修饰语句","修正笔误","内容扩充","排版","内部链接","分类","消歧义","萌百化"];
//# sourceMappingURL=InPageEditSummary.min.js.map